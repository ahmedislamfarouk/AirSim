% !TeX root = layex_full.tex
\documentclass{article}

\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{cite}
\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage{url}
\usepackage[a4paper,margin=1.5cm]{geometry}

\title{Technical Report: Evaluation and Selection of Simulators for the SkyVision Multi-Drone Project}
\author{Ahmed Belal, Abdllah Ammar, Yousef \\ Al Alamein International University, New Alamein City, Egypt}

\begin{document}

\maketitle

\begin{abstract}
This technical report documents our evaluation process and findings regarding several open-source simulators and middleware for the SkyVision multi-drone project. We systematically explored Gazebo, AirSim, and Isaac Sim as our simulators, and PX4, QGroundControl, and ROS2 as middleware, comparing their features, integration complexity, sensor and physics realism, and suitability for collaborative mapping and control tasks specific to SkyVision. The report details our hands-on experiments, highlights the strengths and limitations of each platform, and explains our decision to adopt AirSim with ROS2 as the foundation for SkyVision's simulation and development work. Our experience aims to guide other drone researchers and students in selecting appropriate simulation tools for aerial robotics projects.
\end{abstract}

\section{Introduction}
SkyVision is a specialized graduation project in collaboration with JMU, focused on developing an autonomous swarm of Unmanned Aerial Vehicles (UAVs) for rapid disaster response. The system leverages Artificial Intelligence to coordinate multiple drones for search-and-rescue operations, utilizing real-time Computer Vision (CV) and Simultaneous Localization and Mapping (SLAM).

This report documents the selection, configuration, and evaluation of the simulation environment used to develop and test SkyVision before physical deployment.

\section{Project Requirements}
To successfully simulate the SkyVision swarm, the simulation platform needed to meet specific criteria:
\begin{itemize}
    \item \textbf{Multi-Vehicle Support:} Capability to spawn and control multiple drones simultaneously (swarm functionality).
    \item \textbf{ROS2 Integration:} Native compatibility with ROS2 (Humble/Jazzy) for communication between agents. We are currently using Humble for better compatibility.
    \item \textbf{Sensor Simulation:} High-fidelity simulation of RGB cameras, LiDAR, and IMUs for Computer Vision and SLAM tasks.
    \item \textbf{Physics Fidelity:} Accurate flight dynamics compatible with the PX4 Autopilot stack.
    \item \textbf{Customizability:} Ability to modify drone models (e.g., Holybro X500) and environments (disaster scenarios).
    \item \textbf{Visualization:} Real-time visualization of drone states, sensor data, and mapping results.
    \item \textbf{AI and Machine Learning:} Support for advanced AI workflows, including:
        \begin{itemize}
            \item Computer Vision (CV) for perception and mapping
            \item Reinforcement Learning (RL) for autonomous navigation and control
            \item Federated Learning for distributed model training across multiple drones
            \item Large Language Model (LLM) integration for advanced decision-making or mission planning
        \end{itemize}
    \item \textbf{Middleware Flexibility:} Ability to integrate with a wide range of middleware, including ROS2, PX4, MAVSDK, QGroundControl, and potentially DDS or other robotics frameworks.
\end{itemize}

\section{Simulator and Middleware Options}
We evaluated three primary candidates for the SkyVision simulators:
\begin{itemize}
    \item \textbf{AirSim:} Built on Unreal Engine by Microsoft, offering photorealistic rendering and APIs for controlling drones.\\
    \textbf{Pros:} Extremely high visual fidelity (great for CV).\\
    \textbf{Cons:} Deprecated/archived by Microsoft; heavy resource usage; difficult setup with modern ROS2 versions. Some community-maintained forks are compatible with newer versions of Unreal and ROS2.
    \item \textbf{Gazebo (Harmonic):} The open-source standard for robotics simulation, previously known as Ignition. Default simulator for ROS2.\\
    \textbf{Pros:} Native ROS2 integration; lightweight; official support from PX4 Autopilot; large community.\\
    \textbf{Cons:} Visuals are less realistic than Unreal Engine (though Harmonic is significantly improved).
    \item \textbf{NVIDIA Isaac Sim:} Scalable robotics simulation based on NVIDIA Omniverse.\\
    \textbf{Pros:} Photorealistic physics and visuals; GPU-accelerated.\\
    \textbf{Cons:} Requires high-end NVIDIA hardware; steeper learning curve for custom drone integration compared to Gazebo.
\end{itemize}

\section{Middleware}
For middleware and autopilot, we considered:
\begin{itemize}
    \item \textbf{PX4:} Open-source autopilot stack for drones, widely supported in simulation and real hardware.
    \item \textbf{QGroundControl:} Ground station software for monitoring and controlling PX4-based drones.
    \item \textbf{ROS2:} Modern robotics middleware for distributed communication, sensor integration, and control.
    \item \textbf{MAVSDK:} Modern SDK for MAVLink-based drone control, supporting both Python and C++ APIs. Used for programmatic mission control and telemetry.
    \item \textbf{DDS:} Data Distribution Service, a middleware standard for scalable, real-time, and high-performance data exchange, used in some advanced robotics systems.
    \item \textbf{Other Options:} We also explored other middleware and APIs as needed for specific AI or distributed learning tasks.
\end{itemize}

\section{Evaluation Process}
We compared the simulators and middleware based on the following metrics:
\begin{itemize}
    \item \textbf{Integration Ease:} How easily does it connect with PX4, ROS2, and MAVSDK?
    \item \textbf{Swarm Scalability:} Can it run 3+ drones without crashing the host PC?
    \item \textbf{Sensor Data:} Ease of accessing camera/LiDAR streams in Python/OpenCV, and compatibility with AI pipelines.
    \item \textbf{AI Capabilities:} Support for computer vision, reinforcement learning, and custom neural network integration. Ability to run perception and control algorithms efficiently.
    \item \textbf{Computation Cost:} Resource requirements for running advanced AI tasks (e.g., RL, CV) and multi-agent scenarios.
    \item \textbf{Long-term Viability:} Is the software actively maintained?
    \item \textbf{Community Support:} Availability of documentation, forums, and troubleshooting resources.
\end{itemize}

\section{Installation Guide}
For detailed installation and setup instructions, please refer to the project README and the provided PDF installation guide. These documents cover all steps for setting up the simulation environment, middleware, and dependencies on Ubuntu 22.04.

\section{Project Work Summary}
This section summarizes the major work completed so far, organized by simulator and platform:
\subsection{Gazebo}
\begin{itemize}
    \item Set up Gazebo Harmonic with PX4 and ROS2 integration for multi-drone simulation.
    \item Developed and tested custom SDF models for the Holybro X500 frame, including simulated sensors (LiDAR, RGB camera).
    \item Implemented SITL bridging and swarm launching scripts for multiple drones.
    \item Used RViz2 and QGroundControl for real-time monitoring and control.
    \item Conducted initial AI experiments with computer vision pipelines and basic reinforcement learning agents.
\end{itemize}
\subsection{Isaac Sim on Lambda Server}
\begin{itemize}
    \item Deployed Isaac Sim on the on-campus Lambda Labs SSH server to leverage high-end GPU resources.
    \item Benchmarked simulator performance and tested remote visualization/streaming.
    \item Explored advanced AI workflows, including distributed RL and federated learning experiments.
    \item Faced challenges with hardware requirements and configuration, but gained valuable experience in cloud-based robotics simulation.
\end{itemize}
\subsection{AirSim (Main Platform)}
\begin{itemize}
    \item Adopted AirSim as the primary simulator for its superior visuals, AI/vision support, and efficient computation.
    \item Integrated AirSim with ROS2, PX4, and MAVSDK for full-stack multi-drone control.
    \item Developed and tested advanced AI pipelines, including deep reinforcement learning, computer vision, and (planned) LLM-based mission planning.
    \item Leveraged the GazeboDrone plugin for enhanced physics and multi-drone support.
    \item Documented all workflows and troubleshooting for reproducibility.
\end{itemize}

\section{Comparison and Decision}

\section{Final Choice and Rationale}
After extensive testing and evaluation, we ultimately chose \textbf{AirSim} as our main simulator for SkyVision. The key reasons for this decision are:
\begin{itemize}
    \item \textbf{Best Visuals:} AirSim, built on Unreal Engine, provides photorealistic rendering, which is crucial for developing and testing advanced computer vision and AI perception algorithms.
    \item \textbf{AI and RL Support:} AirSim natively supports reinforcement learning workflows and integration with popular AI frameworks, making it ideal for training and evaluating autonomous behaviors.
    \item \textbf{Efficient Computation:} While Isaac Sim offers similar AI capabilities, it is much more resource-intensive. AirSim achieves a good balance between performance and realism, making it more accessible for our hardware.
    \item \textbf{Better Than Gazebo for Vision:} Gazebo Harmonic is excellent for physics and ROS2 integration, but its visuals and AI support lag behind AirSim, especially for vision-based tasks.
    \item \textbf{GazeboDrone Integration:} AirSim also supports the GazeboDrone plugin, allowing us to leverage Gazebo's physics and multi-drone features within the AirSim environment.
    \item \textbf{Community Forks:} We COULD USE a community-maintained fork that is much newer and more compatible.
\end{itemize}

\section{Lambda Server Experiments}
To scale our experiments and test cloud-based simulation, we attempted to launch both Isaac Sim and AirSim on a Lambda Labs SSH server. This allowed us to:
\begin{itemize}
    \item Run heavy AI workloads remotely, including reinforcement learning and multi-agent training.
    \item Benchmark simulator performance on high-end GPUs and CPUs.
    \item Test remote visualization and control via SSH and web streaming.
    \item Identify deployment challenges for cloud-based robotics research.
\end{itemize}

some success was made but AirSim and Isaac Sim require more specialized hardware and configuration. We are still testing the streaming capabilities to see if this is feasible or not.

\section{Implementation and Results}
\begin{itemize}
    \item Developed Python scripts for multi-drone control, path planning, and SLAM integration.
    \item Successfully simulated collaborative mapping missions with 3+ drones in Gazebo.
    \item Validated sensor data streams (LiDAR, camera) for real-time CV and SLAM tasks.
    \item Used QGroundControl for mission monitoring and manual override.
    \item Documented all setup steps and troubleshooting for reproducibility.
\end{itemize}

\section{Lessons Learned}
\begin{itemize}
    \item Early testing with multiple simulators is crucial for identifying integration issues.
    \item Community support and documentation save significant development time.
    \item ROS2 and PX4 are essential for scalable, real-world drone projects.
    \item Visual fidelity is less important than reliability and integration for swarm research.
\end{itemize}

\section{Conclusion}
This report summarizes our evaluation and selection of simulation tools for the SkyVision multi-drone project. By choosing Gazebo Harmonic, PX4, and ROS2, we established a robust, scalable, and well-supported simulation environment for developing autonomous drone swarms. Our experience and documentation aim to assist future teams in making informed decisions for aerial robotics research.

\section*{Acknowledgments}
We thank Al Alamein International University and JMU for their support and collaboration, and the open-source communities behind Gazebo, PX4, ROS2, and AirSim for their invaluable resources.

\end{document}